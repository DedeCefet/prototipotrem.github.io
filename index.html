<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Cenário - Travessia da Linha do Trem</title>
  <meta name="description" content="Travessia">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
  <script
    src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>



</head>

<body>
  <a-scene>
    <!--Declaração das variáveis e importação de dados-->
    <a-assets>
      <img id="asfalto" src="asfalto.jpg">
      <img id="ceu" src="ceu.jpg">

    </a-assets>
    <a-assets>
      <a-asset-item id="trem" src="locomotive/scene.gltf"></a-asset-item>
      <a-asset-item id="trilho-o" src="locomotive/RailsOBJ.obj"></a-asset-item>
      <a-asset-item id="trilho-m" src="locomotive/RailsOBJ.mtl"></a-asset-item>
      <a-asset-item id="apito" src="Apito.mp3" preload="auto"></a-asset-item>
    </a-assets>
    <!--Montagem do cenário-->
    <!--adicionar normalmap no aplane-->
    <!--céu-->
    <a-sky src="#ceu" rotation="0 64 0">
    </a-sky>
    <!--piso com asfalto-->
    <a-plane material="color: white;
                          src: #asfalto;
                          repeat: 5000 5000" rotation="-90 0 0" scale="10000 10000 1">
    </a-plane>

    <a-entity gltf-model="#trem" rotation="0 0 0" position="-20 0.163 -10" scale="0.2 0.2 0.2" static-body
      physics-collider="ignoreSleep: true" acceleration="1000"
      animation="property: position; to: 50 0.163 -1.988; loop: true; dur: 10000"
      sound="src:#apito; autoplay: true; refDistance: 2 ; loop: true">
    </a-entity>

    <a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="-50 0.160 -10"
        scale="0.002 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="-18.5 0.160 -10"
        scale="0.00045 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="-10 0.160 -10"
        scale="0.0002 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="-5 0.160 -10"
        scale="0.0002 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="0 0.160 -10"
        scale="0.0002 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="5 0.160 -10"
        scale="0.0002 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="11 0.160 -10"
        scale="0.00030 0.0002 0.0002"></a-entity>
      <a-entity obj-model="obj: #trilho-o; mtl: #trilho-m;" rotation="-90 180 0" position="40 0.160 -10"
        scale="0.002 0.0002 0.0002"></a-entity>
    </a-entity>

  </a-scene>
</body>

</html>